# Holdem Room（多人德州扑克）

一个可直接运行的房间制 Texas Hold'em 网页：

- 开房 / 加房 / 大厅房间列表
- 房间密码（可选）
- 玩家与观战双模式（可入座、可切换观战）
- 房主可配置玩法：
  - 起始筹码
  - 小盲/大盲
  - 最大人数
  - 每手行动时限（超时自动过牌/弃牌）
  - 房间总时长（到时后不可开新手）
  - 锦标赛模式（盲注按间隔自动升级）
  - 盲注升级间隔
  - 是否允许 straddle
  - 是否允许观战
- 完整 NLH 回合流程：翻前/翻牌/转牌/河牌
- 动作：弃牌、过牌、跟注、下注、加注、全下
- 支持 side pot / 平分底池 / 奇数筹码分配
- 翻前支持 UTG straddle（开启时）
- 战绩列表 + 手牌回放（按手牌查看动作日志）
- 房主管理权限：踢人、封禁、解封
- 实时日志与聊天

## 启动

```bash
cd /root/texas-holdem
npm install
npm start
```

默认地址：`http://localhost:3000`

可通过环境变量指定端口：

```bash
HOLDEM_PORT=4000 npm start
```

## 联机

让好友访问你的机器地址：

`http://你的IP:3000`

## 规则说明

- 房间时长到期后，当前进行中的手牌可打完，但不能再开始新手。
- 行动超时：
  - 可过牌时自动过牌
  - 需跟注时自动弃牌
- `straddle` 在翻前盲注后进行，支持金额输入（低于最小值时会被拒绝，除全下例外）。

## 数据持久化

当前为内存态服务：重启后房间与对局数据会清空。

## 除夕小游戏（新增）

本项目内置一个适合聚会传手机轮流玩的小游戏：`福运连连`。

- 访问地址：`http://localhost:3000/chuxi-fu-battle.html`
- 支持 2-12 人，按回合轮流操作
- 玩法：在限时内点击“福”字得分，点错扣分并中断连击，金色“福”有额外加分

## 另一个小游戏（3200 端口）

你如果 3000 端口已经在跑别的游戏，可以用 3200 启动本项目：

```bash
cd /root/texas-holdem
npm run game3200
```

新游戏地址：`http://localhost:3200/chuxi-memory-duel.html`

- 游戏名：除夕记忆翻翻乐接力
- 玩法：多人轮流传手机，在限时内翻牌找对子，连对有加成，最终按总分排行

## 多手机联机小游戏（3300 端口）

如果你希望每个人都用自己的手机同时玩，用这个版本：

```bash
cd /root/texas-holdem
npm run quiz3300
```

访问地址：`http://localhost:3300/chuxi-quiz-battle.html`

- 房主创建房间，获得 6 位房间码
- 其他人用手机打开同一地址并输入房间码加入
- 支持多个小游戏模式：`混合小游戏 / 新春知识题 / 心算冲刺 / 找字手速`
- 房主开局后全员同时作答，按正确率和答题速度实时积分
